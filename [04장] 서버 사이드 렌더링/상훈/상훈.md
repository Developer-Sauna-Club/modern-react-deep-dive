# SPA VS MPA

**SPA**

- ì›¹ ì„œë²„ì— ìµœì´ˆë¡œ HTML íŒŒì¼ì„ ìš”ì²­í•œ ì´í›„ì—ëŠ”, ë Œë”ë§ê³¼ ë¼ìš°íŒ…ì´ ëª¨ë‘ í´ë¼ì´ì–¸íŠ¸ ë‹¨ì—ì„œ ë°œìƒí•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
- ì‚¬ìš©ì ì¸í„°ë™ì…˜ìœ¼ë¡œ ì¸í•œ í˜ì´ì§€ ì „í™˜ì´ ë¹ ë¦…ë‹ˆë‹¤. (ìƒˆë¡œìš´ í˜ì´ì§€ë¥¼ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ìœ¼ë¡œ ê°€ì ¸ì˜¬ í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸)

**MPA**

- í˜ì´ì§€ ì „í™˜ì´ ë°œìƒí•  ë•Œë§ˆë‹¤ ì›¹ ì„œë²„ì— ìƒˆë¡œìš´ HTML íŒŒì¼ì„ ìš”ì²­í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
- í˜ì´ì§€ ë³„ ë©”íƒ€íƒœê·¸ë¥¼ ì ìš©í•˜ê¸° ì‰½ê³ , ì„œë²„ì¸¡ì—ì„œ ë¯¸ë¦¬ ë„£ì–´ë†“ê¸° ë•Œë¬¸ì— SEOì— ê°•í•©ë‹ˆë‹¤.
- í•˜ë‚˜ì˜ í˜ì´ì§€ì—ì„œ ê³„ì†í•´ì„œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” SPAì— ë¹„í•´ memory leakì´ ë°œìƒí•  ê°€ëŠ¥ì„±ì´ ë¹„êµì  ë‚®ìŠµë‹ˆë‹¤.
- ëª¨ë“  JS ë²ˆë“¤ íŒŒì¼ì„ ê°€ì ¸ì™€ì•¼ ë Œë”ë§ì„ ì‹œì‘í•˜ëŠ” SPAì— ë¹„í•´ì„œ ìµœì´ˆë¡œ í™”ë©´ì´ ë³´ì´ëŠ” FCPê°€ ë¹„êµì  ë¹ ë¦…ë‹ˆë‹¤.

### SPAì˜ ìœ í–‰ê³¼ JAM ìŠ¤íƒì˜ ë“±ì¥

- í˜ì´ì§€ ì „í™˜ë§ˆë‹¤ ì ì‹œ í•˜ì–€ í™”ë©´ì„ ë³´ê²Œ ë˜ëŠ” MPAì™€ëŠ” ë‹¤ë¥´ê²Œ, ì¦‰ê°ì ì¸ ì‚¬ìš©ì ê²½í—˜ì„ ì¤„ ìˆ˜ ìˆëŠ” SPAê°€ ì ì°¨ í™œë°œí•˜ê²Œ ì±„íƒë˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
- PHPë‚˜ JSP ê¸°ë°˜ì˜ MPA ë°©ì‹ì„ ì£¼ë¡œ ì‚¬ìš©í–ˆì„ ë•Œ, JSëŠ” ì–´ë””ê¹Œì§€ë‚˜ ì‚¬ìš©ìì—ê²Œ ì¶”ê°€ì ì¸ ê²½í—˜ì„ ì£¼ê¸° ìœ„í•œ ë³´ì¡°ì ì¸ ìˆ˜ë‹¨ìœ¼ë¡œ í™œìš©ë˜ì—ˆìœ¼ë‚˜, ì ì°¨ ë‹¤ì–‘í•œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ê²Œ ë˜ë©´ì„œ CommonJS, AMDì™€ ê°™ì€ ëª¨ë“ˆ ì‹œìŠ¤í…œì´ ì œì•ˆë˜ì—ˆê³  ê²°êµ­ ES6ì—ëŠ” ESMì´ ë„ì…ë˜ì—ˆìŠµë‹ˆë‹¤.
- 2010ë…„ê²½ BackBone.js, AngularJS, Knockout.js ê°€ ë“±ì¥í•˜ë©´ì„œ í”„ë¡ íŠ¸ì—”ë“œì—ì„œë„ MV\* íŒ¨í„´ì´ ë„ì…ë˜ê¸° ì‹œì‘í–ˆê³ , JSì˜ ì—­í• ê³¼ ê·œëª¨ê°€ ì»¤ì ¸ê°€ê³  ìˆì—ˆìŠµë‹ˆë‹¤.
- ì´í›„ React, Vueì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° í”„ë ˆì„ì›Œí¬ê°€ ë“±ì¥í•˜ë©´ì„œ í˜„ì¬ í”„ë¡ íŠ¸ì—”ë“œì˜ ëŒ€ì„¸ë¥¼ ì´ëŒì–´ê°€ê³  ìˆìŠµë‹ˆë‹¤.

<aside>
ğŸ’¡ LAMP ìŠ¤íƒ: Linux + Apache + MySQL + PHP/Python (ì „í†µì ì¸ MPA ë°©ì‹)  
JAM ìŠ¤íƒ: JavaScript + API + Markup  
MEAN ìŠ¤íƒ: MongoDB + Express + Angular + Node.js  
**MERN ìŠ¤íƒ**: MongoDB + Express + React + Node.js

</aside>

### SSRì˜ ì¥ì 

- ìµœì´ˆ í˜ì´ì§€ ì§„ì…ì´ ë¹„êµì  ë¹ ë¦…ë‹ˆë‹¤. (FCPê°€ ë¹ ë¦„)
- SEOì— ê°•í•˜ê³ , SNS ê³µìœ  ë“±ì˜ ë©”íƒ€ë°ì´í„° ì œê³µì´ ì‰½ìŠµë‹ˆë‹¤.
  - í˜ì´ì§€ ë³„ ë‹¤ë¥¸ ë©”íƒ€ë°ì´í„° ì œê³µ ê°€ëŠ¥.
- ëˆ„ì  ë ˆì´ì•„ì›ƒ ì´ë™ì´ ì ìŠµë‹ˆë‹¤. (CLS ê°ì†Œ)
  - ë°ì´í„°ë¥¼ API ìš”ì²­ìœ¼ë¡œ ê°€ì ¸ì˜¨ ë’¤ ë‹¤ì‹œ í™”ë©´ì„ ì—…ë°ì´íŠ¸ í•´ì•¼ í•˜ëŠ” CSRì— ë¹„í•´ì„œ
- ì‚¬ìš©ìì˜ ë””ë°”ì´ìŠ¤ ì„±ëŠ¥ì— ë¹„êµì  ììœ ë¡­ìŠµë‹ˆë‹¤.
  - ê·¸ëŸ¬ë‚˜ ì„œë²„ê°€ ë Œë”ë§ ë¶€ë‹´ì„ í•˜ê³  ìˆê¸°ì—, íŠ¸ë˜í”½ì— ë”°ë¥¸ ì„œë²„ ìŠ¤ì¼€ì¼ë§ ë“±ì˜ ì ì ˆí•œ ì‘ì—…ì´ í•„ìš”.
- ë³´ì•ˆì— ë” ì•ˆì „í•©ë‹ˆë‹¤.
  - ì¸ì¦ê³¼ ê°™ì€ ë¯¼ê°í•œ ì‘ì—…ì„ ì„œë²„ì—ì„œ ìˆ˜í–‰í•˜ê³  ê²°ê³¼ë§Œ ë¸Œë¼ìš°ì €ì—ê²Œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì´ ê°€ëŠ¥í•¨.

### SSRì˜ ë‹¨ì 

- ì†ŒìŠ¤ì½”ë“œë¥¼ ì‘ì„±í•  ë•Œ ì„œë²„ë¥¼ í•­ìƒ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
  - ì„œë²„ í™˜ê²½ì—ì„œëŠ” ë¸Œë¼ìš°ì €ì˜ APIë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , useLayoutEffectì™€ ê°™ì€ í›…ë„ ì‚¬ìš©í•  ìˆ˜ ì—†ìŒ.
- ì ì ˆí•œ ì„œë²„ê°€ êµ¬ì¶•ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.
  - ì‚¬ìš©ìì˜ ìš”ì²­ì— ë”°ë¼ì„œ ì ì ˆí•˜ê²Œ scale-up í•˜ëŠ” ë“±ì˜ ì‘ì—…ì´ í•„ìš”í•˜ê³ , ì˜ˆìƒì¹˜ ëª»í•œ ì¥ì•  ìƒí™© ë°œìƒì‹œ ê´€ë¦¬í•´ì•¼ í•  ì§€ì ì´ ëŠ˜ì–´ë‚¨.

<aside>
ğŸ’¡ **í˜„ëŒ€ì˜ SSR**
ëª¨ë“  í˜ì´ì§€ë¥¼ ì„œë²„ì—ì„œ ë Œë”ë§í•˜ëŠ” ì „í†µì ì¸ LAMP ìŠ¤íƒê³¼ëŠ” ë‹¤ë¥´ê²Œ, Next.js, Remixì™€ ê°™ì´ í˜„ì¬ ê³½ê´‘ë°›ëŠ” SSR ì§€ì› í”„ë ˆì„ì›Œí¬ëŠ” ìµœì´ˆ í˜ì´ì§€ ì§„ì…ë§Œ SSR ë°©ì‹ìœ¼ë¡œ ì–´ëŠì •ë„ ì™„ì„±ëœ í™”ë©´ì„ ê°€ì ¸ì˜¤ê³ , ì´í›„ ë¼ìš°íŒ…ì—ì„œëŠ” SPA ì²˜ëŸ¼ ë™ì‘í•˜ì—¬ CSRê³¼ SSRì˜ ë‘ ì¥ì  ëª¨ë‘ ì·¨í•œ ë°©ì‹ì„ ì±„íƒí•©ë‹ˆë‹¤.

</aside>

### SSRì„ ìœ„í•œ ë¦¬ì•¡íŠ¸ API

- [renderToString](https://ko.react.dev/reference/react-dom/server/renderToString): React íŠ¸ë¦¬ë¥¼ HTML ë¬¸ìì—´ë¡œ ë Œë”ë§í•©ë‹ˆë‹¤.
- [renderToStaticMarkup](https://ko.react.dev/reference/react-dom/server/renderToStaticMarkup): ìƒí˜¸ì‘ìš© í•˜ì§€ ì•ŠëŠ” React íŠ¸ë¦¬ë¥¼ HTML ë¬¸ìì—´ë¡œ ë Œë”ë§í•©ë‹ˆë‹¤. (hydrationì´ ë°œìƒí•˜ì§€ ì•ŠìŒ!)
- [renderToNodeStream](https://ko.react.dev/reference/react-dom/server/renderToNodeStream): React íŠ¸ë¦¬ë¥¼ [Readable Node.js Stream](https://nodejs.org/api/stream.html) ìœ¼ë¡œ ë³€í™˜í•˜ëŠ”ë°, deprecatedë˜ì–´ì„œ [renderToPipeableStream](https://ko.react.dev/reference/react-dom/server/renderToPipeableStream) ì‚¬ìš©ì„ ê¶Œì¥í•œë‹¤ê³  í•©ë‹ˆë‹¤.
  ë˜í•œ, ì´ ë©”ì†Œë“œëŠ” Node.js ì—ì„œë§Œ ë™ì‘í•˜ë¯€ë¡œ, Denoë‚˜ ìµœì‹  ì—£ì§€ ëŸ°íƒ€ì„ì²˜ëŸ¼ [Web Stream](https://developer.mozilla.org/ko/docs/Web/API/Streams_API) ì´ ì¡´ì¬í•˜ëŠ” í™˜ê²½ì¸ ê²½ìš°ì—ëŠ” [renderToReadableStream](https://ko.react.dev/reference/react-dom/server/renderToReadableStream) ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤ê³  í•©ë‹ˆë‹¤.
- [renderToStaticNodeStream](https://ko.react.dev/reference/react-dom/server/renderToStaticNodeStream): ìƒí˜¸ì‘ìš© í•˜ì§€ ì•ŠëŠ” React íŠ¸ë¦¬ë¥¼ [Readable Node.js Stream](https://nodejs.org/api/stream.html) ìœ¼ë¡œ ë Œë”ë§í•©ë‹ˆë‹¤. (hydrationì´ ë°œìƒí•˜ì§€ ì•ŠìŒ!)
- [hydrateRoot](https://ko.react.dev/reference/react-dom/client/hydrateRoot): ì„œë²„ í™˜ê²½ì—ì„œ ë¯¸ë¦¬ ë§Œë“¤ì–´ì§„ HTMLì˜ DOM ë…¸ë“œ ë‚´ë¶€ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë‚˜ í›…ê³¼ ê°™ì€ ìš”ì†Œë¥¼ ë„£ëŠ” ë“± React ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•©ë‹ˆë‹¤. (ê¸°ì¡´ [hydrate](https://ko.react.dev/reference/react-dom/hydrate)ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬ì•¡íŠ¸ 17 ë²„ì „ì²˜ëŸ¼ ë™ì‘í•˜ê³ , ë™ì‹œì„± ë Œë”ë§ì„ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì£¼ì˜!)

# Next.js

## Routing

### [pages/\_app.tsx](https://nextjs.org/docs/pages/building-your-application/routing/custom-app)

- ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì „ì²´ í˜ì´ì§€ì˜ ì‹œì‘ì ì…ë‹ˆë‹¤. ë³´í†µ ì•„ë˜ì˜ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
  - ErrorBoundaryë¥¼ í™œìš©í•˜ì—¬ ì „ì—­ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ í•¸ë“¤ë§
  - reset.css ê°™ì€ ì „ì—­ CSS ì„ ì–¸
  - ì „ì²´ í˜ì´ì§€ì—ì„œ ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°ì´í„° ì œê³µ
- ìµœì´ˆì—ëŠ” ì„œë²„ í™˜ê²½ì—ì„œ ë Œë”ë§ë˜ê³ , ì´í›„ì— í˜ì´ì§€ ì „í™˜ì´ ë°œìƒí•˜ë©´ í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ì—ì„œ ë¦¬ë Œë”ë§ë©ë‹ˆë‹¤.

### [pages/\_document.tsx](https://nextjs.org/docs/pages/building-your-application/routing/custom-document)

- ë¬´ì¡°ê±´ ì„œë²„ì—ì„œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤.
- html, body íƒœê·¸ ë‚´ë¶€ë¥¼ ìˆ˜ì •í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- CSS-in-JSì˜ ìŠ¤íƒ€ì¼ì„ ì„œë²„ì—ì„œ ëª¨ì•„ì„œ HTMLë¡œ ì œê³µí•˜ëŠ” ë° ì‚¬ìš©ë˜ê¸°ë„ í•©ë‹ˆë‹¤.
- ì˜ˆì‹œ

  ```jsx
  import { Html, Head, Main, NextScript } from 'next/document';

  export default function Document() {
    return (
      <Html lang="en">
        <Head />
        <body>
          <Main />
          <NextScript />
        </body>
      </Html>
    );
  }
  ```

### [pages/\_error.tsx](https://nextjs.org/docs/pages/building-your-application/routing/custom-error)

- í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ì™€, ì„œë²„ì—ì„œ ë°œìƒí•˜ëŠ” 500 ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

### pages/404.tsx

- ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í˜ì´ì§€ì— ëŒ€í•œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

```jsx
export default function Custom404() {
  return <h1>404 - Page Not Found</h1>;
}
```

### pages/500.tsx

- ì„œë²„ì—ì„œ ë°œìƒí•œ ì—ëŸ¬ë¥¼ í•¸ë“¤ë§í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.
- ë§Œì•½ \_error.tsxì™€ 500.tsxê°€ ë™ì‹œì— ì¡´ì¬í•œë‹¤ë©´, 500.tsxê°€ ìš°ì„ ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

```jsx
export default function Custom500() {
  return <h1>500 - Server-side error occurred</h1>;
}
```

### [pages/index.tsx](https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts)

- íŠ¹ì • pathì— ì ‘ê·¼í–ˆì„ ë•Œ ë³´ì—¬ì¤„ í˜ì´ì§€ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
  - pages/index.js â†’ `/`
  - pages/blog/index.js â†’ `/blog`
- ë””ë ‰í† ë¦¬ ëª…ì´ ì•„ë‹Œ íŒŒì¼ ëª…ë„ ììœ ë¡­ê²Œ ì‘ì„±í•˜ë©´, pathì— ë°˜ì˜ë©ë‹ˆë‹¤.
  - pages/blog/first-post.js â†’ `/blog/first-post`
  - pages/dashboard/settings/username.js â†’ `/dashboard/settings/username`
- `[slug]` ë¥¼ í†µí•´ ë™ì  ê²½ë¡œë¥¼ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes](route1.png)

https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes

- `[...slug]` ë¥¼ í†µí•´ ë™ì  ê²½ë¡œì— ë“¤ì–´ê°ˆ path ë¥¼ ë‹¤ì¤‘ìœ¼ë¡œ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes](route2.png)

https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes

- `[[...slug]]` ë¥¼ í†µí•´ ë™ì  ê²½ë¡œì— ë“¤ì–´ê°ˆ pathë¥¼ Optionalí•˜ê²Œ ë‹¤ì¤‘ìœ¼ë¡œ ë¶€ì—¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes](route3.png)

https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes

### [pages/api/hello.ts](https://nextjs.org/docs/pages/building-your-application/routing/api-routes)

- API Route ê¸°ëŠ¥ìœ¼ë¡œ, íŠ¹ì • pathì— ajax ìš”ì²­í–ˆì„ ë•Œì˜ ì‘ë‹µì„ í˜ì´ì§€ê°€ ì•„ë‹ˆë¼ JSON í˜•íƒœì˜ ì‘ë‹µì„ ë°›ê³ ì í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
- BFF í˜•íƒœë¡œ í™œìš©í•˜ê±°ë‚˜, í’€ìŠ¤íƒ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ê³ ì í•˜ê±°ë‚˜, CORS ë¬¸ì œë¥¼ ìš°íšŒí•˜ë ¤ê³  í•  ë•Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
import type { NextApiRequest, NextApiResponse } from 'next';

type ResponseData = {
  message: string,
};

export default function handler(
  req: NextApiRequest,
  res: NextApiResponse<ResponseData>
) {
  res.status(200).json({ message: 'Hello from Next.js!' });
}
```

## Data Fetching

- Next.jsì—ì„œëŠ” SSR ì§€ì›ì„ ìœ„í•œ ëª‡ ê°€ì§€ ë°ì´í„° íŒ¨ì¹­ ì „ëµì„ ì§€ì›í•©ë‹ˆë‹¤. (SSR, SSG, ISG ë“±)

### **[getStaticPaths](https://nextjs.org/docs/pages/api-reference/functions/get-static-paths), [getStaticProps](https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-props)**

- CMS, ë¸”ë¡œê·¸ ë“± ì •ì  ì»¨í…ì¸ ë¥¼ ìœ„í•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œ, ë‘ ê°œì˜ í•¨ìˆ˜ëŠ” **ë°˜ë“œì‹œ í•¨ê»˜ ì‚¬ìš©**í•´ì•¼ í•©ë‹ˆë‹¤.
- ë¹Œë“œ íƒ€ì„ì— ìˆ˜í–‰ë©ë‹ˆë‹¤. (SSG)
  - **getStaticPaths**
    - paths: ì–´ë–¤ ë™ì  ê²½ë¡œë¥¼ pre-renderingí•  ê²ƒì¸ì§€ë¥¼ ê²°ì •í•©ë‹ˆë‹¤. ì•„ë˜ ì˜ˆì‹œ ì½”ë“œì—ì„œëŠ” `pages/posts/1`, `pages/posts/2` ê²½ë¡œë¥¼ pre-rendering í•©ë‹ˆë‹¤.
    - fallback
      - true: ì‚¬ìš©ìê°€ ì•„ì§ ë¹Œë“œë˜ì§€ ì•Šì€ í˜ì´ì§€ì— ì ‘ê·¼í•˜ëŠ” ê²½ìš° fallback ì»´í¬ë„ŒíŠ¸ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.
      - false: ë“±ë¡ë˜ì§€ ì•Šì€ pathì— ì ‘ê·¼í•˜ëŠ” ê²½ìš° 404 í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ë„ë¡ í•©ë‹ˆë‹¤.
      - blocking: ë³„ë„ì˜ ë¡œë”© ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šê³ , ë¹Œë“œê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ì‚¬ìš©ìê°€ ê¸°ë‹¤ë¦¬ê²Œ í•©ë‹ˆë‹¤.
  - **getStaticProps**
    - getStaticPaths ì—ì„œ ì •ì˜í•œ pathì— ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ ì œê³µí•  propsë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
    - ì•„ë˜ ì˜ˆì‹œì—ì„œëŠ” ê°ê° pathì— ë”°ë¼ì„œ fetchPostë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³ , ì´ë¥¼ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì—ê²Œ propsë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
- ì˜ˆì‹œ

  ```jsx
  import type {
    InferGetStaticPropsType,
    GetStaticProps,
    GetStaticPaths,
  } from 'next'

  type Repo = {
    name: string
    stargazers_count: number
  }

  export const getStaticPaths = (async () => {
    return {
  	  paths: [
  	    { params: { id: '1' }},
  	    {
  	      params: { id: '2' },
  	      // with i18n configured the locale for the path can be returned as well
  	      locale: "en",
  	    },
  	  ],
      fallback: true, // true | false | "blocking"
    }
  }) satisfies GetStaticPaths

  export const getStaticProps = async ({ pamras }) => {
  	const { id } = params;

  	const post = await fetchPost(id);

  	return {
  		props: { post }
  	};
  }

  export default function Post({
    post,
  }: InferGetStaticPropsType<typeof getStaticProps>) {
    return repo.stargazers_count
  }
  ```

### [getServerSideProps](https://nextjs.org/docs/pages/api-reference/functions/get-server-side-props)

- í˜ì´ì§€ ì§„ì… ì „ì— ë¬´ì¡°ê±´ ì‹¤í–‰í•˜ì—¬ Pre-Renderingì„ ë•ëŠ” í•¨ìˆ˜ë¡œ, ìš”ì²­ ì‹œê°„ì— ìˆ˜í–‰ë©ë‹ˆë‹¤. (SSR)
- í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì— propsë¥¼ ë°˜í™˜í•˜ê±°ë‚˜, í˜¹ì€ ë‹¤ë¥¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜ ì‹œí‚¤ëŠ” ë™ì‘ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.
- ì˜ˆì‹œ

  ```jsx
  import type { InferGetServerSidePropsType, GetServerSideProps } from 'next'

  type Repo = {
    name: string
    stargazers_count: number
  }

  export const getServerSideProps = (async () => {
    // Fetch data from external API
    const res = await fetch('https://api.github.com/repos/vercel/next.js')
    const repo: Repo = await res.json()
    // Pass data to the page via props
    return { props: { repo } }
  }) satisfies GetServerSideProps<{ repo: Repo }>

  export default function Page({
    repo,
  }: InferGetServerSidePropsType<typeof getServerSideProps>) {
    return (
      <main>
        <p>{repo.stargazers_count}</p>
      </main>
    )
  }
  ```

References

https://f-lab.kr/insight/spa-vs-mpa-in-frontend-development

https://ko.react.dev/reference/react-dom/server/renderToString

https://ko.react.dev/reference/react-dom/server/renderToStaticNodeStream

https://ko.react.dev/reference/react-dom/server/renderToNodeStream

https://ko.react.dev/reference/react-dom/server/renderToPipeableStream

https://nextjs.org/docs/pages/building-your-application/routing/custom-document

https://nextjs.org/docs/pages/building-your-application/routing/pages-and-layouts

https://nextjs.org/docs/pages/building-your-application/routing/dynamic-routes

https://nextjs.org/docs/pages/building-your-application/data-fetching/get-static-paths
